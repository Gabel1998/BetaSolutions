<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head}">
    <title>Alpha Solutions</title>
</head>
<body>
<!-- Header -->
<div th:replace="~{fragments/header :: header}"></div>

<main class="container">
    <!-- Banner -->
    <section class="banner text-center card">
        <h1>Alpha Solutions</h1>
    </section>

    <!-- Show Login Prompt if NOT logged in -->
    <section class="login-prompt text-center card" th:if="${session.user == null}">
        <p>Please log in to view your projects</p>
        <a th:href="@{/auth/login}" class="button">Login</a>
    </section>

    <!-- Show Projects if Logged in -->
    <section th:if="${session.user != null}">
        <section class="card" th:if="${#lists.isEmpty(projects) == false}">
            <h2>Recently Updated Projects</h2>
            <div class="project-list">
                <a th:each="project : ${projects}"
                   th:href="@{'/subprojects?projectId=' + ${project.id}}"
                   class="project-card">
                    <h3 th:text="${project.name}">Project Name</h3>
                </a>
            </div>
        </section>

        <section class="card text-center" th:if="${#lists.isEmpty(projects)}">
            <h2>No Projects Found</h2>
            <p>There are currently no projects available.</p>
        </section>
    </section>
</main>

<!-- Footer -->
<footer class="container">
    <div th:replace="~{fragments/footer :: footer}"></div>
</footer>
</body>
</html>
